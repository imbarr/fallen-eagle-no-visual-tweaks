#Modernize the Frankish Kingdom
modernize_franks_decision = {
	picture = "gfx/interface/illustrations/decisions/fp1_decisons_hold_bolt.dds"
	desc = modernize_franks_decision_desc
	selection_tooltip = modernize_franks_decision_tooltip
	major = yes

	ai_check_interval = 120

	is_shown = {
		is_ruler = yes
		is_landed = yes
		OR = {
			has_title = title:k_franks
			AND = {
				title:k_franks = {
					is_title_created = no
				}
				has_culture = culture:frankish
			}
		}
		NOT = {  #Can only do it once.
			is_target_in_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:modernized_franks
			}
		}
		NOT = {
			has_government = feudal_government
			has_government = clan_government
		}
		
	}

	is_valid = {
		prestige_level >= high_prestige_level

		OR = {
			religion = religion:christianity_religion
			religion = religion:germanic_religion
			culture = culture:roman
		}

		is_independent_ruler = yes

		completely_controls_region = custom_rhineland
	}

	is_valid_showing_failures_only = {
		is_imprisoned = no
		is_independent_ruler = yes
	}

	effect = {
		change_government = feudal_government
		add_prestige = 200
		give_nickname = nick_the_great
		if = {
			limit = {
				title:k_franks = {
					is_title_created = no
				}
				
			}
			create_title_and_vassal_change = {
				type = usurped
				save_scope_as = title_change
				add_claim_on_loss = no
			}
			title:k_franks = {
				change_title_holder = {
					holder = root
					change = scope:title_change
				}
			}
			resolve_title_and_vassal_change = scope:title_change
		}
		hidden_effect = {
			title:d_lower_lorraine = {
				set_de_jure_liege_title = title:k_franks
			}
			title:d_alsace = {
				set_de_jure_liege_title = title:k_franks
			}
			title:d_julich = {
				set_de_jure_liege_title = title:k_franks
			}
			title:k_franks = {
				set_de_jure_liege_title = title:e_germany
			}

			every_vassal_or_below = {
				change_government = feudal_government
			}
			
			
			add_to_global_variable_list = {
				name = unavailable_unique_decisions
				target = flag:modernized_franks
			}
		}
		
		trigger_event = germanic_events.0001
	}

	ai_potential = {
		always = yes
	}

	cost = {
		gold = 100
	}

	ai_will_do = {
		base = 100
	}
}